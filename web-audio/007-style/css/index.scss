@forward './scss/fonts';
@use './scss/mixins' as *;

// ==============================================

$border-1: solid 1px #252D31;
$border-2: solid 1px #8B9396;
$border-3: solid 1px #404B50;

$background-grey-1: #5E696D;

$light-gray-1: #C2C9CD;

$green-1: #97E92F;

$gradient-grey-1:    linear-gradient(0deg, rgb(73,80,84,)   0%, rgba(97,104,108, 1) 100%);
$gradient-grey-1-on: linear-gradient(0deg, rgb(145,165,175) 0%, rgba(193,213,223,1) 100%);
$gradient-grey-2:    linear-gradient(0deg, #252F34 0%, #3A4449 100%);

$gradient-red-1:    linear-gradient(0deg, rgba(93,72,74,1)    0%, rgba(118,97,99,  1) 100%);
$gradient-red-1-on: linear-gradient(0deg, rgba(195,140,144,1) 0%, rgba(245,190,195,1) 100%);

$background-green-1: #6EDB00;
$gradient-green-1: linear-gradient(0deg, #DCF7AB 0%, $background-green-1 100%);

// ==============================================

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Roboto', sans-serif;
  font-weight: 300;
}

main {

  width: fit-content;
  margin: 0 auto;

  // ==============================================

  #top-bar {
    padding: 8px 16px;
    background: $background-grey-1;
    border-bottom: $border-3;
    display: flex;
    align-items: center;

    // --------------------------------------------

    .master-knob-volume {
      $sz: 10px;
      height: $sz;
      width: $sz;
      background: $background-grey-1;
      background: $gradient-grey-2;
      border-radius: $sz / 2;
      border: $border-1;
      &-line {
        height: 50%;
        width: 1px;
        background: $light-gray-1;
        margin: 0 auto;
        border-radius: 1px;
      }
      @include shadow(1);
      margin-right: 8px;
    }

    // --------------------------------------------

    .master-controls {
      width: fit-content;
      display: flex;

      border-radius: 2px;
      overflow: hidden;
      border: $border-1;

      .master-control {
        all: unset;
        background: $gradient-grey-2;
        padding: 3px 0;

        svg { 
          color: $light-gray-1;
          height: 8px;
        }

        &-play  { border-right: $border-1; }
        &-stop  { border-right: $border-1; }
        &-pause {}

        &:disabled {
          opacity: 0.5;
          pointer-events: none;
        }
      }
      @include shadow(1);
      margin-right: 8px;
    }

    // --------------------------------------------

    .bpm-display {
      // height: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 42px;
      padding: 2px 2px;
      background: red;
      border-radius: 2px;
      border: solid #7B8E95 1px;
      background: #BCCFD6;
      user-select: none;

      &-value {
        font-size: 9px;
        line-height: 1;
        margin-right: 2px;
      }

      &-units {
        font-size: 5px;
        margin-top: auto;
        margin-right: 2px;
      }

      &-buttons {
        // outline: solid red 1px;
        width: fit-content;
        width: 5px;
        svg {
          color: black;
          height: 5px;
          cursor: pointer;
        }
      }

      margin-right: 8px;
    }

    // --------------------------------------------

    .timing-display { 
      // width: 50px;
      padding: 1px 4px;
      font-size: 10px;
      user-select: none;
      color: #D8F8F9;
      background: #4F6666;
      border: solid #3A5151 1px;
      border-radius: 2px;
      &-bars {}
      &-beats {}
      &-count {
        font-size: 6px;
      }
      // &-units {
      //   font-size: 4px;
      // }
    }

    // --------------------------------------------
  }

  // ==============================================

  #tracks {
    border: solid $border-1 1px;
    background: $background-grey-1;
    padding: 16px;
    
    .track {
      // border: solid transparent 2px;
      display: flex;
      align-items: center;

      $track-height: 22px;
      $mr: 6px;

      &-led-enable {
        border: $border-2;
        $sz: 9px;
        height: $sz;
        width: $sz;
        border-radius: $sz / 2;
        &-inner {
          $sz: 7px;
          height: $sz;
          width: $sz;
          background: $background-grey-1;
          background: $gradient-green-1;
          border-radius: $sz / 2;
          border: $border-1;
          &-line {
            height: 50%;
            width: 1px;
            background: white;
            margin: 0 auto;
            border-radius: 1px;
          }
        } // &-inner
        @include shadow(1);
        margin-right: $mr;
      } // &-led-enable

      &-knob-volume {
        $sz: 10px;
        height: $sz;
        width: $sz;
        background: $background-grey-1;
        background: $gradient-grey-1;
        border-radius: $sz / 2;
        border: $border-1;
        &-line {
          height: 50%;
          width: 1px;
          background: $light-gray-1;
          margin: 0 auto;
          border-radius: 1px;
        }
        @include shadow(1);
        margin-right: $mr;
      }

      &-title { 
        display: flex;
        justify-content: center;
        align-items: center;
        min-width: 50px !important;
        height: $track-height;
        font-size: 12px;
        user-select: none;
        color: white;
        border-radius: 2px;
        border: $border-1;
        background: $background-grey-1;
        background: $gradient-grey-1;
        @include shadow(1);
        margin-right: $mr;
      } 

      .steps {
        display: inline-flex;
        height: $track-height;
        
        .step {
          width: 13px;
          margin: 1px;

          display: flex;
          justify-content: center;
          align-items: center;
          padding-bottom: 1px; // HACK - TODO: remove

          user-select: none;
          font-size: 11px;

          
          border-radius: 3px;
          border: solid 1px #252D31;
          // background: rgb(75,83,86);
          color: white;
          &-A {  
            background: $gradient-grey-1;
            &.step-on { background: $gradient-grey-1-on; }
          }
          &-B { 
            background: $gradient-red-1;
            &.step-on { background: $gradient-red-1-on; }
          }
          
          &.current {
            // box-shadow: 0 1px 3px hsla(90, 100%, 43%, 0.12) , 0 1px 2px hsla(90, 100%, 43%, 0.24) ;
            box-shadow: 0 1px 3px rgba(153, 233, 47, 0.12) , 0 1px 2px rgba(110, 219, 0, 0.24) ;
          }
          @include shadow(1);
        }
      }

      &:not(:last-child) {
        margin-bottom: 4px;
      }
    }
  }

  // ==============================================
} // main