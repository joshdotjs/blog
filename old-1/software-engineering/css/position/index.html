<html>
<head>
    <link rel="stylesheet" href="./styles.css">
    <style id="style"></style>
    <title>CSS Position</title>
</head>
<body>
    <a href="/">Home</a> <br>
    <a href="../">../</a>
    <h1>CSS Position</h1>

    <div class="container">
        <div class="parent reset">
            Parent
            <div class="child-1 child reset">1</div>
            <div class="child-2 child reset">2</div>
            <div class="child-3 child reset">3</div>
        </div>
    </div>

<section class="active">
    <h2><code>position: static</code></h2>
    <p>This is the default setting.</p>

    <div class="editor-container">
        <div class="editor">.child-1 {
    position: static;
}
        </div>
        <button>Apply</button>
    </div>

</section>

<section>
    <h2><code>position: relative</code></h2>
    <p></p>

    <div class="editor-container">
        <div class="editor">.child-1 {
    position: relative;
    left: 50px;
}
        </div>
        <button>Apply</button>
    </div>

</section>

<section>
    <h2><code>position: absolute</code></h2>
    <p></p>

    <div class="editor-container">
        <div class="editor">.child-1 {
    position: absolute;
    /*top: 0;*/
}
        </div>
        <button>Apply</button>
    </div>

</section>

<section>
    <h2><code>position: absolute (parent), relative (child) [combo pack]</code></h2>
    <p></p>

    <div class="editor-container">
        <div class="editor">.parent {
    position: relative;
}
.child-1 {
    position: absolute;
    top: 0;
}
        </div>
        <button>Apply</button>
    </div>

</section>

<section>
    <h2><code>position: fixed</code></h2>
    <p></p>

    <div class="editor-container">
        <div class="editor">.child-1 {
    position: fixed;
}
        </div>
        <button>Apply</button>
    </div>

</section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>


    <!-- Change CSS programatically -->
    <script>
        //const editor_containers = document.querySelectorAll('.editor-container');
        const style = document.querySelector('#style');
        const sections = document.querySelectorAll('section');
        const buttons = document.querySelectorAll('button');
        const editors = document.querySelectorAll(".editor");
        console.log(editors);
        editors.forEach(function(editorElem, idx) {
            const editor = ace.edit(editorElem);
            editor.setTheme("ace/theme/monokai");
            editor.session.setMode("ace/mode/css");

            buttons[idx].addEventListener('click', () => {
                const code = editor.getValue();
                style.textContent = code;

                for (let i = 0; i < sections.length; ++i) {
                    if (i == idx) {
                        console.log('ADD: i: ', i);
                        sections[i].classList.add('active');
                    } else {
                        console.log('REMOVE: i: ', i);
                        sections[i].classList.remove('active');
                    }
                }

            });

        });

    </script>

    <section>
        <strong>References</strong>
        <ul>
            <li>
                <a href="https://youtu.be/jx5jmI0UlXU">
                    Web Dev Simplified: "Learn CSS Position In 9 Minutes"
                </a>
            </li>
        </ul>
    </section>
</body>
</html>